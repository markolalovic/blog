<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/blog/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/blog/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav ul li a { background-image: none; } .site-nav > ul.nav-category-list > li > button svg { transform: rotate(-90deg); } .site-nav > ul.nav-category-list > li.nav-list-item > ul.nav-list { display: block; } </style> <script src="/blog/assets/js/vendor/lunr.min.js"></script> <script src="/blog/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/blog/assets/icons/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Maximum cut and Goemans-Williamson | ML Blog</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Maximum cut and Goemans-Williamson" /> <meta name="author" content="Marko Lalovic" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="This is a short summary of approximation algorithms for the MaxCut problem of finding a maximum cut of a graph. After introducing the problem and trivial $\frac{1}{2}$-approximation, we summarize the famous semidefinite programming relaxation and hyperplane rounding technique from (Goemans &amp; Williamson, 1995) that gives the best known approximation ratio for MaxCut. We then take a look at the dual problem and some previous results. Taking the dual approach further, using so-called Sum-of-Squares hierarchy framework with Gaussian rounding technique, we arrive at the same approximation ratio for MaxCut. Finally, we discuss some possible generalizations." /> <meta property="og:description" content="This is a short summary of approximation algorithms for the MaxCut problem of finding a maximum cut of a graph. After introducing the problem and trivial $\frac{1}{2}$-approximation, we summarize the famous semidefinite programming relaxation and hyperplane rounding technique from (Goemans &amp; Williamson, 1995) that gives the best known approximation ratio for MaxCut. We then take a look at the dual problem and some previous results. Taking the dual approach further, using so-called Sum-of-Squares hierarchy framework with Gaussian rounding technique, we arrive at the same approximation ratio for MaxCut. Finally, we discuss some possible generalizations." /> <link rel="canonical" href="http://localhost:4000/blog/max-cut-sdp/" /> <meta property="og:url" content="http://localhost:4000/blog/max-cut-sdp/" /> <meta property="og:site_name" content="ML Blog" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-08-31T00:00:00+02:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Maximum cut and Goemans-Williamson" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Marko Lalovic"},"dateModified":"2022-08-31T00:00:00+02:00","datePublished":"2022-08-31T00:00:00+02:00","description":"This is a short summary of approximation algorithms for the MaxCut problem of finding a maximum cut of a graph. After introducing the problem and trivial $\\frac{1}{2}$-approximation, we summarize the famous semidefinite programming relaxation and hyperplane rounding technique from (Goemans &amp; Williamson, 1995) that gives the best known approximation ratio for MaxCut. We then take a look at the dual problem and some previous results. Taking the dual approach further, using so-called Sum-of-Squares hierarchy framework with Gaussian rounding technique, we arrive at the same approximation ratio for MaxCut. Finally, we discuss some possible generalizations.","headline":"Maximum cut and Goemans-Williamson","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/max-cut-sdp/"},"url":"http://localhost:4000/blog/max-cut-sdp/"}</script> <!-- End Jekyll SEO tag --> <!-- Load dark color theme --> <link id="dark-theme" rel="stylesheet" href="/blog/assets/css/just-the-docs-dark.css" media="(prefers-color-scheme: dark)" /> <!-- Fonts: post-font-family: "Noto Sans" heading-font-family: "Lato" mono-font-family: "Fira Code" --> <link rel="preconnect" href="https://fonts.googleapis.com" /> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet"> <!-- MathJax config --> <script type="text/javascript"> window.MathJax = { tex: { packages: ["base", "ams", "newcommand", "boldsymbol"], inlineMath: [ ["$", "$"], ["\\(", "\\)"], ], tags: "ams" }, loader: { load: ["ui/menu", "[tex]/ams", "[tex]/newcommand", "[tex]/boldsymbol"], versionWarnings: false, }, }; </script> <!-- MathJax snippet --> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" ></script> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div id="side-bar-component" class="side-bar"> <div class="site-header" role="banner"> <a href="/blog/" class="site-title lh-tight"> <p class="my-site-title">ML Blog</p> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"> <!-- Added `reversed` so that posts are sorted by date in reverse --><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --> <a href="/blog/" class="nav-list-link fs-5">Index</a><!-- changed typography: fw-400 fs-4 --></li></ul> <!-- Don't show my Posts collection name --><ul class="nav-list"> <!-- Added `reversed` so that posts are sorted by date in reverse --><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/max-cut-sdp/" class="nav-list-link fs-3 before-pseudo-class">Maximum cut and Goemans-Williamson</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/layout-optimization/" class="nav-list-link fs-3 before-pseudo-class">Layout optimization for a solar tower power plant</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/lasso-dual/" class="nav-list-link fs-3 before-pseudo-class">Lasso dual</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/tda-digits/" class="nav-list-link fs-3 before-pseudo-class">Topological features applied to the MNIST data set</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/water-towers/" class="nav-list-link fs-3 before-pseudo-class">Some math behind water towers</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/covid-calc/" class="nav-list-link fs-3 before-pseudo-class">Covid Calculator</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/direct-approach-to-fdr/" class="nav-list-link fs-3 before-pseudo-class">On Storey's direct approach to false discovery rates</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/ridge-regression/" class="nav-list-link fs-3 before-pseudo-class">Ridge regression</a></li><li class="nav-list-item"><!-- Added some >> pseudo class, but only to my Posts titles --> <!-- Changed typography: fw-400 --><!-- changed typography: fw-400 fs-4 --> <a href="/blog/ols-regression/" class="nav-list-link fs-3 before-pseudo-class">Multicollinearity effect on OLS regression</a></li></ul> </nav> <footer class="site-footer"></footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search ML Blog" aria-label="Search ML Blog" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <button id="toggle-theme-button" name="Swich Theme" class="toggle-btn site-button fw-500 fs-5" onclick="toggleTheme()"> <!-- Sun --> <svg width="24" height="24" id="light-icon" display="none"> <g transform="translate(0,1) scale( 0.9 )"> <circle cx="12" cy="12" r="6" fill="rgb(110, 110, 110)" /> <line id="ray" stroke="rgb(110, 110, 110)" stroke-width="2" stroke-linecap="round" x1="12" y1="1" x2="12" y2="3.3" ></line> <!-- rest of rays are just rotated top ray --> <use href="#ray" transform="rotate(45 12 12)" /> <use href="#ray" transform="rotate(90 12 12)" /> <use href="#ray" transform="rotate(135 12 12)" /> <use href="#ray" transform="rotate(180 12 12)" /> <use href="#ray" transform="rotate(225 12 12)" /> <use href="#ray" transform="rotate(270 12 12)" /> <use href="#ray" transform="rotate(315 12 12)" /> </g> </svg> <!-- Moon --> <svg width="24" height="24" id="dark-icon" display="none"> <g transform="translate(0,1) scale( 0.9 )"> <path fill="rgb(110, 110, 110)" d=" M 18, 4 A 10 10 0 1 0 18, 20 A 10 10 0 0 1 18, 4" /> </g> </svg> </button> </li> <li class="aux-nav-list-item"> <a href="https://lalovic.io" class="site-button fw-500 fs-5"> About </a> </li> </ul> </nav> <!-- Light and dark theme toggle --> <script> var currentTheme = ""; const toggleThemeButton = document.getElementById("toggle-theme-button"); const lightIcon = document.getElementById("light-icon"); const darkIcon = document.getElementById("dark-icon"); const defaultTheme = document.getElementsByTagName("link")[0]; const lightThemeHTML = '<link id="light-theme" rel="stylesheet" href="/blog/assets/css/just-the-docs-light.css"/>'; const darkThemeHTML = '<link id="dark-theme" rel="stylesheet" href="/blog/assets/css/just-the-docs-dark.css"/>'; if ( window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ) { currentTheme = "dark"; toggleThemeButton.setAttribute("title", "Switch to light mode"); darkIcon.setAttribute("display", "none"); lightIcon.setAttribute("display", "block"); } else { currentTheme = "light"; toggleThemeButton.setAttribute("title", "Switch to dark mode"); darkIcon.setAttribute("display", "block"); lightIcon.setAttribute("display", "none"); } function removeBothThemes() { const lightTheme = document.getElementById("light-theme"); const darkTheme = document.getElementById("dark-theme"); if (lightTheme !== null) { lightTheme.remove(); } if (darkTheme !== null) { darkTheme.remove(); } } function darkOn() { removeBothThemes(); defaultTheme.insertAdjacentHTML("afterend", darkThemeHTML); currentTheme = "dark"; localStorage.setItem("currentThemeLS", "dark"); toggleThemeButton.setAttribute("title", "Switch to light mode"); lightIcon.setAttribute("display", "block"); darkIcon.setAttribute("display", "none"); } function lightOn() { removeBothThemes(); defaultTheme.insertAdjacentHTML("afterend", lightThemeHTML); currentTheme = "light"; localStorage.setItem("currentThemeLS", "light"); toggleThemeButton.setAttribute("title", "Switch to dark mode"); lightIcon.setAttribute("display", "none"); darkIcon.setAttribute("display", "block"); } function toggleTheme() { if (currentTheme == "dark") { lightOn(); } else { darkOn(); } } if (localStorage.getItem("currentThemeLS") !== null) { const currentThemeLS = localStorage.getItem("currentThemeLS"); if (currentThemeLS !== currentTheme) { if (currentThemeLS == "dark") { darkOn(); } else { lightOn(); } } } </script> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="fs-7">Maximum cut and Goemans-Williamson</h1> <p class="my-post-meta"> Marko Lalovic &nbsp; Aug 31, 2022 </p> <p class="post-content"> <strong>TLDR:</strong> The famous semidefinite programming relaxation and the duality with the Sum-of-Squares hierarchy framework. </p> <div class="post-content"> <p>This is a short summary of approximation algorithms for the MaxCut problem of finding a maximum cut of a graph. After introducing the problem and trivial $\frac{1}{2}$-approximation, we summarize the famous semidefinite programming relaxation and hyperplane rounding technique from <a class="citation" href="#GW94">(Goemans &amp; Williamson, 1995)</a> that gives the best known approximation ratio for MaxCut. We then take a look at the dual problem and some previous results. Taking the dual approach further, using so-called Sum-of-Squares hierarchy framework with Gaussian rounding technique, we arrive at the same approximation ratio for MaxCut. Finally, we discuss some possible generalizations.</p> <h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2> <ol id="markdown-toc"> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a> <ol> <li><a href="#example" id="markdown-toc-example">Example</a></li> </ol> </li> <li><a href="#preliminaries" id="markdown-toc-preliminaries">Preliminaries</a></li> <li><a href="#sdp-relaxation" id="markdown-toc-sdp-relaxation">SDP relaxation</a> <ol> <li><a href="#example-1" id="markdown-toc-example-1">Example</a></li> </ol> </li> <li><a href="#hyperplane-rounding" id="markdown-toc-hyperplane-rounding">Hyperplane rounding</a></li> <li><a href="#dual-problem" id="markdown-toc-dual-problem">Dual problem</a></li> <li><a href="#sos-relaxation" id="markdown-toc-sos-relaxation">SoS relaxation</a></li> <li><a href="#gaussian-rounding" id="markdown-toc-gaussian-rounding">Gaussian rounding</a></li> <li><a href="#generalizations" id="markdown-toc-generalizations">Generalizations</a></li> <li><a href="#source-code" id="markdown-toc-source-code">Source code</a></li> <li><a href="#references" id="markdown-toc-references">References</a></li> </ol> <h2 id="introduction">Introduction</h2> <p>Let $G = (V, E)$ be a simple undirected graph with $V := \lbrace 1, \dots, n \rbrace$ and $|E| = m$. For a subset $S \subset V$, we define a $cut(S)$ as a subset of edges $E$ having one vertex in $S$ and the other one in $V \setminus S$. We denote the cut size by $f(S) = |cut(S)|$. The <em>MaxCut problem</em> is to find a subset $S \subseteq V$ that maximizes the cut size $f(S)$. MaxCut problem is NP-complete <a class="citation" href="#Karp72">(Karp, 1972)</a>.</p> <p><a href="#figure1">Figure 1</a> shows a cycle graph $C_{5}$ where a subset $S = \lbrace{v_1, v_3\rbrace}$ gives a cut of maximum size 4.</p> <div id="figure1" class="imgcap-nbd"> <img src="/blog/assets/posts/max-cut-sdp/mc-example.svg" width="30%" class="invertImg" /> <div class="thecap"> Figure 1: Cycle graph $C_5$ and a maximum cut of size 4. </div> </div> <p>Given a graph $G=(V,E)$, denote the maximum cut size by $mc(G)$. For a given algorithm that returns the subset $S \subseteq V$, we say that it is an $\alpha$-<em>approximation algorithm</em> for MaxCut if</p> \[\begin{equation} f(S) \geq \alpha \cdot mc(G) \label{eq: alpha} \end{equation}\] <p>for all graphs $G = (V, E)$ and some approximation ratio $\alpha \in [0, 1]$. If algorithm employed is randomized, meaning $S$ that it returns is a random variable, then we say the same, if (\ref{eq: alpha}) holds with an expectation taken on the left-hand side.</p> <h4 id="example">Example</h4> <p>An algorithm, that assigns each vertex to $S$ or $V \setminus S$ independently uniformly at random, is a $1/2-$approximation for MaxCut:</p> \[\DeclareMathOperator{\Ex}{\mathbb{E}} \DeclareMathOperator{\Prob}{\mathbb{P}} \mathbb{E}[f(S)] = \sum_{i, j} \Prob[(i, j) \in \text{cut}(S)] = \frac{1}{2} \, m \geq \frac{1}{2} \cdot mc(G).\] <p>This approximation was first proposed and analyzed by <a class="citation" href="#Erd67">(Erdős, 1967)</a>.</p> <p>In <a class="citation" href="#GW94">(Goemans &amp; Williamson, 1995)</a> they improved this by proposing $\alpha_{GW}$-approximation algorithm with $\alpha_{GW} \geq 0.878$ using semidefinite programming (SDP) and hyperplane rounding technique. The proposed algorithm is easy to implement using off-the-shelf SDP solver, see the <a href="#source-code">Source code</a> for more details.</p> <h2 id="preliminaries">Preliminaries</h2> <p>A real symmetric matrix $X$ is positive definite, denoted $X \succeq 0$ if the following equivalent conditions hold:</p> <ul> <li>All eigenvalues of $X$ are non-negative.</li> <li>Quadratic form $v^{T}Xv \geq 0$ for all $v \in \mathbb{R}^{n}$.</li> <li>There exists $Q \in \mathbb{R}^{n \times r}$ with</li> </ul> \[X = QQ^{T} = \sum_{i = 1}^{r} v_{i} v_{i}^{T}\] <p>where $v_{1}, \dots, v_{r}$ are columns of $Q$.</p> <p>In the set of all symmetric matrices $S^{n}$, denote the convex cone of positive semidefinite matrices by</p> \[S^{n}_{+}.\] <p>A <em>spectrahedron</em> is the intersection of $S^{n}_{+}$ with an affine linear space $A \bullet X = b$. <em>Semidefinite programming (SDP)</em> solves the problem (P) of maximizing (or minimizing) a linear objective function $C \bullet X$ over the spectrahedron:</p> \[\begin{align*} &amp; \text{maximize} \ C \bullet X \\ &amp; \text{subject to: } \tag{P}\\ &amp; \qquad A_{i} \bullet X = b_{i} \quad i = 1, \dots, m \\ &amp; \qquad X \succeq 0 \end{align*}\] <p>The corresponding dual problem (D) is:</p> \[\begin{align*} &amp; \text{minimize} \ b^{T}y \\ &amp; \text{subject to: } \label{eq: P} \tag{D}\\ &amp; \qquad \sum_{i=1}^{m} A_{i} y_{i} - C \succeq 0 \end{align*}\] <p>Properties:</p> <ul> <li> <p>Every convex polyhedron is a spectrahedron.</p> </li> <li> <p>Spectrahedron is a closed convex set.</p> </li> <li> <p><em>Weak duality</em> always holds:</p> </li> </ul> \[C \bullet X \geq b^{T} y.\] <ul> <li>Under primal and dual feasibility, also <em>strong duality</em> holds:</li> </ul> \[C \bullet X = b^{T} y.\] <p>More on semidefinite programming can be found in Chapter 12 <a class="citation" href="#Sturmfels">(Michalek &amp; Sturmfels, 2021)</a>.</p> <h2 id="sdp-relaxation">SDP relaxation</h2> <p>Cuts in the complete graph $K_n$ can be represented by a set of $2^{n - 1}$ matrices $x x^{T}$ of rank one with $x \in \lbrace -1, 1 \rbrace^{n}$. The $n \times n$ spectrahedron:</p> \[\mathcal{E}_{n} := \lbrace X \in S^{n}_{+} : X_{ii} = 1, \, \, \forall i \rbrace\] <p>is called an <em>elliptope</em>. It is a set of all $n \times n$ correlation matrices.</p> <p>It gives the following formulation of maximum cut problem:</p> \[mc(G) = \max_{X \in \mathcal{E}_{n}, rk(X) = 1 } \sum_{i, j} \frac{1 - X_{ij}}{2} .\] <p>Letting go of rank one constraint $rk(X) = 1$, we get an SDP problem:</p> \[sdp(G) := \max_{X \in \mathcal{E}_{n}} \sum_{i, j} \frac{1 - X_{ij}}{2}.\] <p>Since $\mathcal{E}_{n}$ includes all the matrices of rank one,</p> \[mc(G) \leq sdp(G).\] <p>Therefore $sdp(G)$ is a <em>relaxation</em>.</p> <h4 id="example-1">Example</h4> <p>Cuts in complete graph $K_{3}$ can be represented by a set of matrices of rank one:</p> \[\lbrace x x^{T} : x \in \lbrace -1, 1 \rbrace^{3} \rbrace.\] <p>These matrices are contained in $3 \times 3$ elliptope</p> \[\mathcal{E}_{3} = \lbrace (x_1, x_2, x_3)^{T} \in \mathbb{R}^{3} : \begin{pmatrix} 1 &amp; x_1 &amp; x_2 \\ x_1 &amp; 1 &amp; x_3 \\ x_2 &amp; x_3 &amp; 1 \end{pmatrix} \succeq 0 \rbrace.\] <p>The boundary of $\mathcal{E}_{3}$ consists of all $(x_1, x_2, x_3)^{T} \in \mathbb{R}^{3}$ where determinant is 0:</p> \[(x_2 x_3 - x_1) x_1 + (x_1 x_3 - x_2) x_2 - x_{3}^2 + 1 = 0.\] <p>This is a cubic surface drawn in <a href="#figure2">Figure 2</a> using Python and SageMath:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">sage.all</span> <span class="kn">import</span> <span class="o">*</span>
<span class="nf">var</span><span class="p">(</span><span class="sh">'</span><span class="s">x,y,z</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">*</span><span class="n">z</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">z</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">p</span> <span class="o">=</span> <span class="nf">implicit_plot3d</span><span class="p">(</span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                    <span class="n">opacity</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">smooth</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">p</span>
</code></pre></div></div> <div id="figure2" class="imgcap-nbd"> <img src="/blog/assets/posts/max-cut-sdp/K3-and-elliptope.svg" width="80%" class="invertImg" /> <div class="thecap"> Figure 2: Complete graph $K_3$ and surface of elliptope $\mathcal{E}_{3}$. </div> </div> <h2 id="hyperplane-rounding">Hyperplane rounding</h2> <p>Solution $X$ that realizes the maximum $sdp(G)$ is a positive semidefinite matrix that can be decomposed as $X=\sum_{i=1} v_{i}v_{i}^T$ for some unit vectors $v_{i}$. To construct a subset $S \subset V$, select a random unit vector $r \in \mathbb{R}^{n}$ and let $S = \lbrace i \in V : v_{i}^{T}r \geq 0 \rbrace$. Denote the angle between vectors $v_i, v_j$ by $\theta_{i, j}$.</p> <p>Since $v_{i}$ are unit vectors $v_{i}^{T} v_{j} = \cos{\theta_{i, j}}$, we can bound the contribution of an edge $(i, j) \in E(G)$ by</p> \[\Prob[(i, j) \in cut(S)] = \frac{\theta_{i, j}}{\pi} \geq \alpha_{GW} \cdot \frac{1 - v_{i}^{T} v_{j} }{2}\] <p>where</p> \[\alpha_{GW} = \min_{\theta_{i, j} \in [0, \pi]} \lbrace \frac{2}{\pi} \cdot \frac{\theta_{i, j}}{ { 1 - \cos(\theta_{i, j}) }} \rbrace \geq 0.878.\] <p>Summing up the contributions over all edges, we arrive at the famous result</p> \[\Ex[f(S)] = \sum_{i, j} \Prob[(i, j) \in cut(S)] \geq \alpha_{GW} \cdot sdp(G).\] <h2 id="dual-problem">Dual problem</h2> <p>Let $L$ be the Laplacian matrix of a graph $G = (V, E)$. The dual problem of SDP relaxation is equivalent to finding maximum eigenvalue of $L$ with smallest added correction $u \in \mathbb{R}^{n}$, under constraint that $\sum_{i} u_{i} = 0$</p> \[\newcommand{\vect}[1]{\boldsymbol{#1}} \frac{n}{4} \min_{u: \vect{1}^{T} u = 0} \lambda_{\max}(L + diag(u))\] <p>Setting $u = \vect{0}$ and by weak duality we get an upper bound</p> \[mc(G) \leq sdp(G) \leq \frac{n}{4} \lambda_{\max}(L)\] <p>given earlier in <a class="citation" href="#MP90">(Mohar &amp; Poljak, 1990)</a>. For 5-cycle $C_{5}$, $\lambda_{\max} = \frac{1}{5}(5 + \sqrt{5})$, giving an upper bound</p> \[\frac{1}{2}(5 + \sqrt{5})/4 \geq 0.9 \cdot mc(C_{5}).\] <p>This bound was studied in <a class="citation" href="#DP93">(Delorme &amp; Poljak, 1993)</a>.</p> <h2 id="sos-relaxation">SoS relaxation</h2> <p>Now let $x \in \lbrace 0, 1 \rbrace^{n}$ and let $\mathcal{P}_{n}$ be a set of real valued polynomials $p(x)$ of degree at most $d/2$. Let</p> \[\tilde{\Ex}: \mathcal{P}_{n} \rightarrow \mathbb{R}\] <p>be some operator over the probability distribution on $x$. We formulate the following optimization problem</p> \[\begin{align*} sos(G) := \ &amp; \max_{\tilde{\Ex}} \ \tilde{\Ex}[ \sum_{i, j} (x_{i} - x_{j})^{2} ] \\ &amp; \text{subject to: } \\[.4em] &amp; \qquad \text{(1) $\tilde{\Ex}$ is linear} \qquad \text{(2) $\tilde{\Ex}[1] = 1$} \\[.4em] &amp; \qquad \text{(3) $\tilde{\Ex}[p^2] \geq 0$} \qquad \, \, \, \text{(4) $\tilde{\Ex}[x_{i}^{2}p] = \tilde{\Ex}[x_{i}p]$} \\[.4em] &amp; \qquad \forall p \in \mathcal{P}_{n} \end{align*}\] <p>An operator $\tilde{\Ex}$ that realizes the maximum $sos(G)$ is called <em>pseudo-expectation</em>, because it only meets a subset of constraints (1)-(3) required to be an actual expectation. The fourth constraint requires $x$ to be a vector $x \in \lbrace 0, 1 \rbrace^{n}$. Given a subset $S$ with maximum cut size $mc(G)$, let $\vect{a}$ be the indicator vector of $S$ and set $\tilde{\Ex} = \vect{a}$. Then $\tilde{\Ex}$ satisfies the constraints (1)-(4) and achieves objective value $mc(G)$. In other words, given an expectation $a$, we can build a pseudo-expectation $\tilde{\Ex}$ just by setting $\tilde{\Ex} = \vect{a}$. Therefore $mc(G) \leq sos(G)$.</p> <p>This framework is called <em>Sum-of-Squares hierarchy</em> introduced by <a class="citation" href="#Parillo00">(Parrilo, 2000)</a> and <a class="citation" href="#Lasserre01">(Lasserre, 2001)</a>. Increasing the degree $d$, increases the size of the corresponding SDP problem. For $d = n$, the relaxation is exact. We can choose $d=2$ and show that we can get the same $\alpha_{GW}$-approximation as before by rounding the solution of SoS relaxation.</p> <h2 id="gaussian-rounding">Gaussian rounding</h2> <p>Let $\tilde{\Ex}$ be solution that realizes the maximum $sos(G)$. Select $\vect{y}$ to be a Gaussian vector with the mean $\mu = \tilde{\Ex}[x] = \frac{1}{2} \vect{1}$ and covariance matrix $\Sigma = \tilde{\Ex}[(x - \mu)(x - \mu)^{T}]$ and construct a subset $S = \lbrace i \in V : y_{i} \leq \frac{1}{2} \rbrace$. For each edge $(i, j) \in E(G)$, define</p> \[\rho_{i, j} = 4 \tilde{\Ex}[x_{i} x_{j}] - 1.\] <p>From $(s, t) \overset{\text{i.i.d.}}{\sim} N(0, I)$, setting</p> \[u = \rho_{i, j} s + \sqrt{1 - \rho_{i, j}^{2}} t\] <p>gives $\rho_{i, j} = \Ex[u s] = \cos(\theta_{i, j})$. Summing up the contributions, we can show that</p> \[\Ex[f(S)] = \sum_{i, j} \Prob[(i, j) \in cut(S)] \geq \alpha_{GW} \cdot sos(G)\] <h2 id="generalizations">Generalizations</h2> <p>Given a non-negative weight function on the edges, $w \in \mathbb{R}^{E}_{+}$, the cut size becomes</p> \[f(S) = \sum_{e \in \text{cut}(S)} w_e\] <p>with no effect on analysis of approximation algorithms presented here. Given arbitrary weight function $w \in \mathbb{R}^{E}$, the analysis has to be adjusted but it is possible to derive a generalization of guarantees presented here.</p> <p>Whether increasing degree from $d=2$ to $d=4$ of SoS Relaxation, also improves the approximation, still remains unresolved question.</p> <h2 id="source-code">Source code</h2> <p>Here is a simple implementation of Goemans-Williamson algorithm in Python:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">cvxpy</span> <span class="k">as</span> <span class="n">cp</span>
<span class="kn">from</span> <span class="n">scipy.linalg</span> <span class="kn">import</span> <span class="n">sqrtm</span>

<span class="k">def</span> <span class="nf">gw</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">edges</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s">Goemans-Williamson algorithm for MaxCut:
    Given a graph G(V=[n], E=edges), returns a vector x \in {-1, 1}^n
    that corresponds to the chosen subset of vertices S of V. </span><span class="sh">'''</span>
    <span class="c1">## SDP Relaxation
</span>    <span class="n">X</span> <span class="o">=</span> <span class="n">cp</span><span class="p">.</span><span class="nc">Variable</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">symmetric</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span><span class="n">X</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">constraints</span> <span class="o">+=</span> <span class="p">[</span>
        <span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">objective</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span> <span class="nf">for </span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="n">edges</span> <span class="p">)</span>
    <span class="n">prob</span> <span class="o">=</span> <span class="n">cp</span><span class="p">.</span><span class="nc">Problem</span><span class="p">(</span><span class="n">cp</span><span class="p">.</span><span class="nc">Maximize</span><span class="p">(</span><span class="n">objective</span><span class="p">),</span> <span class="n">constraints</span><span class="p">)</span>
    <span class="n">prob</span><span class="p">.</span><span class="nf">solve</span><span class="p">()</span>

    <span class="c1">## Hyperplane Rounding
</span>    <span class="n">Q</span> <span class="o">=</span> <span class="nf">sqrtm</span><span class="p">(</span><span class="n">X</span><span class="p">.</span><span class="n">value</span><span class="p">).</span><span class="n">real</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">sign</span><span class="p">(</span><span class="n">Q</span> <span class="o">@</span> <span class="n">r</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">cut</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">edges</span><span class="p">):</span>
    <span class="sh">'''</span><span class="s">Given a vector x \in {-1, 1}^n and edges of a graph G(V=[n], E=edges),
    returns the edges in cut(S) for the subset of vertices S of V represented by x.</span><span class="sh">'''</span>
    <span class="n">xcut</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">np</span><span class="p">.</span><span class="nf">sign</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">xcut</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">xcut</span>
</code></pre></div></div> <p>To solve an SDP problem it uses CVXPY <a class="citation" href="#CVXPY">(Diamond &amp; Boyd, Version 1.2)</a>.</p> <p>Algorithm is randomized and returns a random cut, but guarantees that on average: <code class="language-plaintext highlighter-rouge">cut size &gt;= 0.878 * maximum cut size</code>. For the trivial example of a cycle on 5 vertices, the chosen subset and corresponding cut may vary, but the return cut will always be of size 4:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Define a cycle on 5 vertices
</span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">edges</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>

<span class="c1">## Run Goemans-Williamson algorithm
</span><span class="n">x</span> <span class="o">=</span> <span class="nf">gw</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>

<span class="c1">## Find edges in the cut
</span><span class="n">xcut</span> <span class="o">=</span> <span class="nf">cut</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Chosen subset: %s</span><span class="sh">'</span> <span class="o">%</span> <span class="n">np</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Cut size: %i</span><span class="sh">'</span> <span class="o">%</span> <span class="nf">len</span><span class="p">(</span><span class="n">xcut</span><span class="p">)</span> <span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Edges of the cut: %s</span><span class="sh">'</span> <span class="o">%</span> <span class="n">xcut</span> <span class="p">)</span>
<span class="c1"># Chosen subset: [1 4]
# Cut size: 4
# Edges of the cut: [(0, 1), (1, 2), (3, 4), (0, 4)]
</span></code></pre></div></div> <h2 id="references">References</h2> <ol class="bibliography"><li><span id="GW94">Goemans, M. X., &amp; Williamson, D. P. (1995). Improved Approximation Algorithms for Maximum Cut and Satisfiability Problems Using Semidefinite Programming. <i>J. ACM</i>, <i>42</i>(6), 1115–1145. https://doi.org/<a href="https://doi.org/10.1145/227683.227684">10.1145/227683.227684</a></span></li> <li><span id="Karp72">Karp, R. M. (1972). Reducibility among Combinatorial Problems. In R. E. Miller, J. W. Thatcher, &amp; J. D. Bohlinger (Eds.), <i>Complexity of Computer Computations: Proceedings of a symposium on the Complexity of Computer Computations, held March 20--22, 1972, at the IBM Thomas J. Watson Research Center, Yorktown Heights, New York, and sponsored by the Office of Naval Research, Mathematics Program, IBM World Trade Corporation, and the IBM Research Mathematical Sciences Department</i> (pp. 85–103). Springer US. https://doi.org/<a href="https://doi.org/10.1007/978-1-4684-2001-2_9">10.1007/978-1-4684-2001-2_9</a></span></li> <li><span id="Erd67">Erdős, P. (1967). On bipartite subgraphs of a graph. <i>Matematika Lapok</i>, <i>18</i>, 283–288.</span></li> <li><span id="Sturmfels">Michalek, M., &amp; Sturmfels, B. (2021). <i>Invitation to nonlinear algebra, Chapter 12: Semidefinite Programming</i>. American Mathematical Society. <a href="https://www.math.uni-konstanz.de/~michalek/june26.pdf">https://www.math.uni-konstanz.de/~michalek/june26.pdf</a></span></li> <li><span id="MP90">Mohar, B., &amp; Poljak, S. (1990). Eigenvalues and the max-cut problem. <i>Czechoslovak Mathematical Journal</i>, <i>40</i>(2), 343–352. <a href="http://eudml.org/doc/13856">http://eudml.org/doc/13856</a></span></li> <li><span id="DP93">Delorme, C., &amp; Poljak, S. (1993). Laplacian Eigenvalues and the Maximum Cut Problem. <i>Math. Program.</i>, <i>62</i>(1–3), 557–574.</span></li> <li><span id="Parillo00">Parrilo, P. A. (2000). <i>Structured semidefinite programs and semialgebraic geometry methods in robustness and optimization</i> [PhD thesis, California Institute of Technology]. https://doi.org/<a href="https://doi.org/10.7907/2K6Y-CH43">10.7907/2K6Y-CH43</a></span></li> <li><span id="Lasserre01">Lasserre, J. B. (2001). Global Optimization with Polynomials and the Problem of Moments. <i>SIAM Journal on Optimization</i>, <i>11</i>(3), 796–817. https://doi.org/<a href="https://doi.org/10.1137/S1052623400366802">10.1137/S1052623400366802</a></span></li> <li><span id="CVXPY">Diamond, &amp; Boyd. (Version 1.2). <i>CVXPY: A Python-embedded modeling language for convex optimization</i>. <a href="https://www.cvxpy.org/">https://www.cvxpy.org/</a></span></li></ol> </div> <div> <section class="comments"> <!-- Add comment form --> <div id="respond" class="comment-new"> <h2>Leave a comment</h2> <form id="input-form" method="post" action="https://api.staticforms.xyz/submit"> <input type="hidden" name="accessKey" value="4e5a5ee1-5fd9-47ed-9b85-aecdabd0c006"> <input type="hidden" name="$Date" value="1716073094"> <input type="hidden" name="$BlogPost" value="Maximum cut and Goemans-Williamson"> <input type="hidden" name="subject" value="Comment to blog post Sun, 19 May 2024 00:58:14 +0200"> <!-- DEBUG: hard coded redirect_url --> <input type="hidden" name="redirectTo" value="https://lalovic.io/blog/thanks"> <textarea class="wide-field" id="message" name="message" rows="8" cols="68" placeholder="Your comment (LaTeX markup accepted)" required></textarea> <div style="margin-top: 5px; margin-bottom: 5px;"> <input class="input-field" id="name" name="name" type="text" placeholder="Your name (optional)" /> <button class="btn btn-blue" id="submit-button" type="submit">Add Comment</button> </div> </form> <div id="preview-div"></div> <!-- Comment preview and rerenderMath function to apply MathJax to preview --> <script> function previewComment() { const content = document.getElementById("message").value; document.getElementById("comment-result-title").innerText = "Your comment:"; document.getElementById("comment-result").innerText = content; rerenderMath(); } function rerenderMath() { MathJax.typeset(); } var textareaInput = document.getElementById("message"); textareaInput.onkeyup = textareaInput.onkeypress = function() { document.getElementById("preview-div").innerText = this.value; rerenderMath(); } </script> </div> </section> </div> </main> <hr> <footer class="my-footer"> <p><a class="fs-5" href="#top" id="back-to-top">Back to top</a></p> <p class="fs-3 text-grey-dk-000"> CC-BY 2024, Marko Lalovic. Theme is based on <a href="https://just-the-docs.com/">Just the Docs</a>. </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
