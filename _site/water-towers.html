<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Marko's Blog</title>
  <meta name="description" content="        Figure 1: Water towers in New York. (Source:  takomabibelot,CC-BY 2.0, edited by author.)  ">
  <link rel="stylesheet" href="/blog/assets/css/main.css">
  <link rel="canonical" href="https://markolalovic.com/blog/water-towers">
</head>


<body>

    <div class="page-wrapper">
        <header class="site-header">

    <link rel="apple-touch-icon" sizes="180x180" href="/docs/assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/docs/assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/docs/assets/img/favicon-16x16.png">
    <link rel="manifest" href="/docs/assets/img/site.webmanifest">
    <link rel="mask-icon" href="/docs/assets/img/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/docs/assets/img/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/docs/assets/img/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <div class="wrapper">
        <a class="site-title" href="/blog">Marko Lalovic</a>
        <a class="site-nav" href="https://markolalovic.com">About</a>
        <a class="site-nav" href="/blog">Blog</a>
    </div>

</header>


        <div class="page-content">
            <div class="wrapper">
                <div class="post">

    <header class="post-header">
        <h1 class="post-title">Some Math Behind Water Towers</h1>
        <h2 class="post-subtitle">Finding the optimal arrangement of metal rings to reinforce the cylindrical structure of a water tank.</h2>
        <p class="post-meta">Jun 15, 2020 • Marko Lalovic • 2 min read</p>
    </header>

    <article class="post-content">
        <div class="images">
  <img src="/blog/assets/posts/water-towers/water-towers.jpg" />
  <div class="label">
    <strong>Figure 1:</strong> Water towers in New York. (Source:  <a target="_blank" href="https://www.flickr.com/people/38782010@N00">takomabibelot</a>,
<a target="_blank" href="https://creativecommons.org/licenses/by/2.0/">CC-BY 2.0</a>, edited by author.)
  </div>
</div>

<p>The water towers are interesting to me because their structure reveals some math behind how they are built. In <strong>Figure 1</strong>, we see that the water tanks are reinforced with metal rings to hold the cylindrical structure together. We also notice that the metal rings are closer to each other at the bottom of the tank where the pressure is greatest. But what is the optimal arrangement?</p>

<p>Since I did not find a derivation anywhere on the internet, I will describe my solution here with a simple example.</p>

<h2 id="example">Example</h2>

<p>Say we have a wooden water tank that we want to reinforce with 5 equal metal rings so that the wood does not give in to the water pressure. How would you arrange the metal rings?</p>

<div class="images">
  <img src="/blog/assets/posts/water-towers/drawing.svg" />
  <div class="label">
    <strong>Figure 2:</strong> Two examples of arrangements of metal rings.
  </div>
</div>

<p>Two examples of arrangements are shown in <strong>Figure 2</strong>. Let $d=3$ be the depth of the tank. Denote by $h_{k}$ for $k=1, …, 5​​$ the height of each metal ring from the bottom of the tank.</p>

<p><strong>Figure 2A</strong> shows a naïve straightforward approach, where the metal rings are spaced evenly at heights from the bottom of the tank:</p>

\[h_{1} = 0.5, \quad h_{2} = 1, \quad h_{3} = 1.5, \quad h_{4} = 2,
\quad h_{5} = 2.5.\]

<p>The pressure that the water exerts increases with depth and the metal rings at the bottom of the tank have to hold a lot more pressure than the metal rings at the top of the tank. Therefore the structural strength of the lower part of the tank is lower than that of the upper part of the tank. Hence, this arrangement of metal rings is a poor choice.</p>

<h3 id="optimal-arrangement">Optimal Arrangement</h3>

<p>We derive the optimal arrangement of the metal rings shown in <strong>Figure 2B</strong>. The influence of depth on water density is negligible. We also assume that the water temperature in the tank is the same and constant everywhere. The water pressure $p$ at depth $x$ is equal to:</p>

\[p(x) = p_{0} + \rho \cdot g \cdot x\]

<p>where $p_{0}$ is the pressure at the surface, $\rho$ is the density of water and $g$ is the gravitational acceleration. The important part to notice for this derivation, is that the pressure exerted by a static liquid increases linearly with increasing depth:</p>

\[p(x) \propto C \cdot x\]

<p>for some constant $C &gt; 0$. We choose the constant $C = 2/9$ and define the density:</p>

\[f_{X}(x) = \frac{2}{9} \cdot x\]

<p>of some continuously distributed random variable $X$ that represents the pressure in the tank, defined on the interval $[0, 3]$. The corresponding distribution function is then:</p>

\[F_{X}(x) = \frac{1}{9} \cdot x^{2}.\]

<p>Define the limits of the interval $[0, 3]$:</p>

\[x_{1} = 0, \quad x_{6} = 3\]

<p>and divide the interval $[0, 3]$ into 5 subintervals with boundaries:</p>

\[x_{2} = x_{0.2}, \quad x_{3} = x_{0.4}, \quad x_{4} = x_{0.6}, \quad
x_{5} = x_{0.8}\]

<p>where $x_{q}$ are quantiles, that is:</p>

\[F_{X}(x_{q}) = q.\]

<p>The boundaries are marked in dotted red in <strong>Figure 2B</strong>. At each subinterval, the integral of the density is equal to 0.2. This method, of dividing a continuous distribution into subintervals with equal density, is called <em>Equal Frequency Discretization</em>.</p>

<p>Finally, we arrange the metal rings so that each ring is exactly in the centroid $h_{k}$​ of density $f_{X}$ at the subinterval $k$:</p>

\[h_{k} = \frac{\int_{x_{k}}^{x_{k+1}} x f(x) dx}{\int_{x_{k}}^{x_{k+1}} f(x) dx}.\]

<p>This way, each metal ring needs to hold the same amount of pressure. Therefore the structural strength is the same everywhere and this arrangement of metal rings is optimal.</p>

<p>In the optimal arrangement, the calculated heights of the metal rings from the bottom of the tank are approximately:</p>

\[h_{1} = 0.16, \quad h_{2} = 0.49, \quad h_{3} = 0.88, \quad
h_{4} = 1.36, \quad h_{5} = 2.11.\]

<p>The solution is shown in <strong>Figure 2b</strong>.</p>

    </article>

    <div>
      <section class="comments" id="comment-section">
  <hr>
  

  <!-- New comment form -->
  <div id="respond" class="comment__new">
    <form class="js-form form" method="post" action="https://markos-staticman.herokuapp.com/v2/entry/markolalovic/blog/main/comments">
  <input type="hidden" name="options[origin]" value="https://markolalovic.com/blog/water-towers">
  <input type="hidden" name="options[parent]" value="https://markolalovic.com/blog/water-towers">
  <input type="hidden" id="comment-replying-to-uid" name="fields[replying_to_uid]" value="">
  <input type="hidden" name="options[slug]" value="water-towers">
  

  <div class="textfield">
    <label for="comment-form-message"><h2>Add Comment<small><a rel="nofollow" id="cancel-comment-reply-link" href="https://markolalovic.com/blog/water-towers#respond" style="display:none;">(cancel reply)</a></small></h2>
      <textarea class="textfield__input" name="fields[message]" type="text" id="comment-form-message" placeholder="Your comment (markdown accepted)" required rows="6"></textarea>
    </label>
  </div>

    <div class="textfield narrowfield">
      <label for="comment-form-name">Name
        <input class="textfield__input" name="fields[name]" type="text" id="comment-form-name" placeholder="Your name (required)" required/>
      </label>
    </div>

    <div class="textfield narrowfield">
      <label for="comment-form-email">E-mail
        <input class="textfield__input" name="fields[email]" type="email" id="comment-form-email" placeholder="Your email (optional)"/>
      </label>
    </div>

    <div class="textfield narrowfield hp">
      <label for="hp">
        <input class="textfield__input" name="fields[hp]" id="hp" type="text" placeholder="Leave blank">
      </label>
    </div>

    

    <button class="button" id="comment-form-submit">
      Submit
    </button>

</form>

<article class="modal mdl-card mdl-shadow--2dp">
  <div>
    <h3 class="modal-title js-modal-title"></h3>
  </div>
  <div class="mdl-card__supporting-text js-modal-text"></div>
  <div class="mdl-card__actions mdl-card--border">
    <button class="button mdl-button--colored mdl-js-button mdl-js-ripple-effect js-close-modal">Close</button>
  </div>
</article>

<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none" >
  <symbol id="icon-loading" viewBox="149.8 37.8 499.818 525"><path d="M557.8 187.8c13.8 0 24.601-10.8 24.601-24.6S571.6 138.6 557.8 138.6s-24.6 10.8-24.6 24.6c0 13.2 10.8 24.6 24.6 24.6zm61.2 90.6c-16.8 0-30.6 13.8-30.6 30.6s13.8 30.6 30.6 30.6 30.6-13.8 30.6-30.6c.6-16.8-13.2-30.6-30.6-30.6zm-61.2 145.2c-20.399 0-36.6 16.2-36.6 36.601 0 20.399 16.2 36.6 36.6 36.6 20.4 0 36.601-16.2 36.601-36.6C595 439.8 578.2 423.6 557.8 423.6zM409 476.4c-24 0-43.2 19.199-43.2 43.199s19.2 43.2 43.2 43.2 43.2-19.2 43.2-43.2S433 476.4 409 476.4zM260.8 411c-27 0-49.2 22.2-49.2 49.2s22.2 49.2 49.2 49.2 49.2-22.2 49.2-49.2-22.2-49.2-49.2-49.2zm-10.2-102c0-27.6-22.8-50.4-50.4-50.4-27.6 0-50.4 22.8-50.4 50.4 0 27.6 22.8 50.4 50.4 50.4 27.6 0 50.4-22.2 50.4-50.4zm10.2-199.8c-30 0-54 24-54 54s24 54 54 54 54-24 54-54-24.6-54-54-54zM409 37.8c-35.4 0-63.6 28.8-63.6 63.6S374.2 165 409 165s63.6-28.8 63.6-63.6-28.2-63.6-63.6-63.6z"/>
  </symbol>
</svg>



  </div>
</section>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/blog/assets/main.js"></script>


    </div>
</div>

            </div>
        </div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <ul class="social-media-list">
      
      <li>
        <a href="https://github.com/markolalovic" target="_blank">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">markolalovic</span>
        </a>
      </li>
      

      
      <li>
        <a href="https://twitter.com/MarkoLalovic" target="_blank">
          <span class="icon  icon--twitter">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
              c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
            </svg>
          </span>

          <span class="username">MarkoLalovic</span>
        </a>
        <span class="post-meta" style="float: right">
          The website content is licensed <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY 4.0</a>.
        </span>
      </li>
      
    </ul>
  </div>

</footer>


    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: {
          equationNumbers: { autoNumber: "AMS" },
          tagSide: "right"
        },
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>
    <script type="text/javascript"
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

</body>

</html>
